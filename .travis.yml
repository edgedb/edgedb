language: generic

matrix:
    include:
        - os: linux
          dist: trusty
          sudo: false
          language: python
          python: "3.6"
          services: postgresql
          addons:
              postgresql: '10'

branches:
    # Avoid building PR branches.
    only:
        - master
        - ci
        - releases
        - /^v\d+(\.\d+)*$/

cache:
    pip: true
    directories:
        - build

install:
    - .ci/travis-install.sh

script:
    - .ci/travis-tests.sh
