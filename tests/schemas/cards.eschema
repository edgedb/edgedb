abstract type Named:
    required link name to str:
        delegated constraint unique

link deck:
    link property count to int


link friends:
    link property nickname to str
    # how the friend responded to requests for a favor
    #link property favor to array<bool>


type User extending Named:
    link deck to Card:
        cardinality := '**'

    link deck_cost := sum(__self__.deck.cost)

    link friends to User:
        cardinality := '**'


type Card extending Named:
    required link element to str
    required link cost to int
    link owners := __self__.<deck[IS User]


type SpecialCard extending Card
