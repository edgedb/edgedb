##
# Copyright (c) 2018-present MagicStack Inc.
# All rights reserved.
#
# See LICENSE for details.
##


# function to get the short name of a Type
CREATE FUNCTION graphql::short_name(std::str) -> std::str
    FROM SQL $$
        SELECT regexp_replace($1, '.+?::(.+$)', '\1');
    $$;

# create Query
WITH MODULE graphql
INSERT Query {
    name := 'Query',
};
